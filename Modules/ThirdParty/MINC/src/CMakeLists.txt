set(ITK3P_INSTALL_EXPORT_NAME "${ITKMINC-targets}")
set(ITK3P_INSTALL_INCLUDE_DIR "${ITKMINC_INSTALL_INCLUDE_DIR}")
set(ITK3P_INSTALL_RUNTIME_DIR "${ITKMINC_INSTALL_RUNTIME_DIR}")
set(ITK3P_INSTALL_LIBRARY_DIR "${ITKMINC_INSTALL_LIBRARY_DIR}")
set(ITK3P_INSTALL_ARCHIVE_DIR "${ITKMINC_INSTALL_ARCHIVE_DIR}")

set(LIBMINC_EXTERNALLY_CONFIGURED ON)
set(LIBMINC_TARGETS_NAME ${ITKGDCM-targets})
# Modern CMake install COMPONENTS
# Setting LIBMINC_INSTALL_NO_DEVELOPMENT & LIBMINC_INSTALL_NO_LIBRARIES to
# FALSE to make explicit that the development and libraries
# can not be skipped for installation.  Use the install COMPONENTS
# features instead.
set(LIBMINC_INSTALL_NO_DEVELOPMENT FALSE)
set(LIBMINC_EXTERNAL_LIB_PREFIX "itk")
set(LIBMINC_EXPORTED_TARGETS    ${ITKMINC-targets})
set(LIBMINC_INSTALL_LIB_DIR     ${ITKMINC_INSTALL_LIBRARY_DIR})
set(LIBMINC_INSTALL_LIBRARY_DIR ${ITKMINC_INSTALL_LIBRARY_DIR})
set(LIBMINC_INSTALL_ARCHIVE_DIR ${ITKMINC_INSTALL_ARCHIVE_DIR})
set(LIBMINC_INSTALL_RUNTIME_DIR ${ITKMINC_INSTALL_RUNTIME_DIR})
set(LIBMINC_INSTALL_INCLUDE_DIR ${ITKMINC_INSTALL_INCLUDE_DIR}/itkminc2)
set(LIBMINC_MINC1_SUPPORT OFF)
set(LIBMINC_NIFTI_SUPPORT OFF)
set(LIBMINC_BUILD_EZMINC_EXAMPLES OFF)
set(LIBMINC_BUILD_SHARED_LIBS ${BUILD_SHARED_LIBS})
set(LIBMINC_EXPORTED_TARGETS ${ITKMINC-targets})

set(ZLIB_INCLUDE_DIR ${ITKZLIB_INCLUDE_DIRS})
set(ZLIB_LIBRARY ${ITKZLIB_LIBRARIES})

set(EXECUTABLE_OUTPUT_PATH ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
set(LIBRARY_OUTPUT_PATH    ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})


# Configuring locations of the libraries from ITK
# TODO: check if the ITK module is enabled
set(ZLIB_FOUND ON)
set(HDF5_FOUND ON)

if(NOT ITK_USE_SYSTEM_HDF5)
  set(HDF5_INCLUDE_DIRS ${ITKHDF5_SOURCE_DIR}/src/itkhdf5)
  include_directories(
    "${ITKHDF5_SOURCE_DIR}/src/itkhdf5"
    "${ITKHDF5_SOURCE_DIR}/src/itkhdf5/src"
    "${ITKHDF5_BINARY_DIR}/src/itkhdf5"
    )
endif()
set(HDF5_LIBRARIES ${ITKHDF5_LIBRARIES})

set(BUILD_TESTING OFF)
add_subdirectory(libminc)

itk_module_target(${MINC_LIBRARY_NAME} NO_INSTALL)
