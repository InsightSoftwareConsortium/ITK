set(ITK_SOURCE_DIR "@ITK_SOURCE_DIR@")
set(CMAKE_SOURCE_DIR "@CMAKE_SOURCE_DIR@")

set(WORKING_DIR "")
if(ITK_SOURCE_DIR)
  set(WORKING_DIR "${ITK_SOURCE_DIR}")
else()
  set(WORKING_DIR "${CMAKE_SOURCE_DIR}")
endif()

if (EXISTS "@ITK_VERSIONED_CLANG_FORMAT_EXECUTABLE@")
    find_package(Git)
    if(GIT_FOUND AND EXISTS "${WORKING_DIR}/.git/config")
      execute_process(
        COMMAND
          ${GIT_EXECUTABLE} config clangFormat.binary "@ITK_VERSIONED_CLANG_FORMAT_EXECUTABLE@"
        WORKING_DIRECTORY
          ${WORKING_DIR}
        )
    endif()
else()
    message(STATUS "Valid clang-format binary could not be found. Skipping 'git config clangFormat.binary'")
endif()
